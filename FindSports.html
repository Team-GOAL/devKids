<!DOCTYPE html>
<html>
<head>
    <title>Sports | muziVic</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- favicons -->
    <link rel="apple-touch-icon" sizes="57x57" href="../images/favicons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="../images/favicons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="../images/favicons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="../images/favicons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="../images/favicons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="../images/favicons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="../images/favicons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="../images/favicons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="../images/favicons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="../images/favicons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../images/favicons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="../images/favicons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../images/favicons/favicon-16x16.png">
    <link rel="manifest" href="/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <!-- favicons -->
    <link rel="stylesheet" type="text/css" href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/custom-responsive-style.css">
    <link href="//fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
    <script src="../Scripts/jquery-3.2.1.min.js"></script>
    <script src="../Scripts/select1.js"></script>
    <script src="../Scripts/all-plugins.js"></script>
    <script src="../Scripts/plugin-active.js"></script>


</head>


<body data-spy="scroll" data-target=".main-navigation" data-offset="150">
<section id="MainContainer">
    <!-- Header starts here -->
    <header id="Header">
        <nav class="main-navigation">
            <div class="container clearfix">
                <div class="site-logo-wrap">
                    <a class="logo" href="index.html"><img src="logo.PNG" alt="Design Studio"></a>
                </div>
                <a href="javascript:void(0)" class="menu-trigger hidden-lg-up"><span>&nbsp;</span></a>
                <div class="main-menu hidden-md-down">
                    <ul class="menu-list">
                        <li><a class="nav-link" href="index.html" data-target="#Home">Home</a></li>
                        <li><a class="nav-link" href="FindSports.html" data-target="#Services">Find Sports</a></li>
                    </ul>
                </div>
            </div>
            <div class="mobile-menu hidden-lg-up">
                <ul class="mobile-menu-list">
                    <li><a class="nav-link" href="index.html" data-target="#Home">Home</a></li>
                    <li><a class="nav-link" href="FindSports.html" data-target="#Services">Find Sports</a></li>
                </ul>
            </div>
        </nav>
    </header>
    <!-- Header ends here -->
    <section id="SP">
        <div class="SP-content">
            <p>
                Build confidence and resilience through playing sports! </p>
        </div>
    </section>

    <!-- Sports section starts here -->
    <section id="Sports" style="background-color: #f8f9fa">
        <div style="margin-left:5%;margin-right:5%;padding-top: 5%">
            <p style="font-family: Times New Roman; font-weight: 100; font-size: 30px; text-align: center;color: black;">
                Find resources for your kids to learn skills and be competitive!
            </p>
        </div>
        <div class="container" style="margin-top: 5%;padding-bottom: 3%">
            <div class="col-md-6 offset-md-3" style="align-content: center; align-self: center">
                <div>
                    <p style="font-weight: bold">Discover the different facilities in provided by suburbs!</p>
                </div>
                <form id="mapForm" name="mapForm" action="../php/server%20receive%20request%20on%20sports.php"
                      method="post">
                    <P>Select your suburb: <input type="text" name="suburb" id="suburb"/> </P>

                    <script>
                        var suburb = $('#suburb');
                    </script>
                    <?php
                        if (!preg_match("/^[a-zA-Z ]*$/", $suburb)) {
                            $suburbErr = "Only letters and white space allowed";
                            echo( $suburbErr);
                        }
                            ?>

                    <br>
                    <div>
                        <p style="font-weight: bold">Playing sports will allow your child to safely overcome their
                            limitations and build confidence in their own abilities and connect with other children.
                            Discover what your suburb has to offer!</p>
                    </div>
                    <label for="sports">Select a sports activity</label>
                    <select class="custom-select" name="sports" id="sports selection">
                        <h4>Select your preference and see recommended sports activities</h4>
                        <option value="Australian Rules Football">Australian Rules Football</option>
                        <option value="Basketball">Basketball</option>
                        <option value="Cricket">Cricket</option>
                        <option value="Cycling">Cycling</option>
                        <option value="Dancing">Dancing</option>
                        <option value="Fitness / Gymnasium Workouts">Fitness / Gymnasium Workouts</option>
                        <option value="Soccer" selected="selected">Soccer</option>
                        <option value="Golf">Golf</option>
                        <option value="Gymnastics">Gymnastics</option>
                        <option value="Athletics">Athletics</option>
                        <option value="Swimming">Swimming</option>
                        <option value="Tennis">Tennis</option>
                        <option value="Walking">Walking</option>
                        <option value="Tennis">Tennis</option>
                        <option value="Netball">Netball</option>
                        <option value="Yoga">Yoga</option>
                    </select>
                    <br>
                </form>
                <br>
                <button type="button" form="mapForm" id="mapButton" value="Submit">Search by Suburb or Activity</button>
            <div style="overflow: auto; width:500px; height:200px;" id="displayLocations"></div>
                <br>
                <p>Refersh to search again</p>
            </div>
        </div>
    </section>
    <!-- Sports section ends here -->
    <!-- Skill section starts here -->
    <section id="Skill">
        <div style="margin-top:3%">
            <p style="font-family: Times New Roman; font-weight: 100; font-size: 30px; text-align: center;color: black;">
                Build confidence and resilience through playing sports!
            </p>
            <div class="col-6 offset-3" style="align-self: center;align-content: center">
                <p style="font-family: Times New Roman; font-weight: bold;  text-align: center;color: black; font-size: 18px">
                    Playing sports of similar interest with others will increase your child's sense of belonging to the
                    greater Australian community.
                </p>
            </div>

        </div>
        <div class="container" style="margin-top: 5%;margin-bottom: 5%">
            <div class="col-6 offset-3" style="align-content: center; align-self: center; ">
                <form id="preferenceForm" name="preferenceForm" action="../php/server%20receive%20request%20on%20preference.php" method="post">
                    <div id="ageList" style="align-content: center; align-self: center; ">
                        <label for="age">Select your child's age</label>
                        <select class="custom-select" name="age" id="age">
                            <option>0</option>
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>5</option>
                            <option>6</option>
                            <option selected="selected">7</option>
                            <option>8</option>
                            <option>9</option>
                            <option>10</option>
                            <option>11</option>
                        </select>
                    </div>
                    <div id="genderList">
                        <label for="gender">Select your child's gender</label>
                        <br>
                        <select name="gender" id="gender">
                            <option selected="selected">male</option>
                            <option>female</option>
                        </select>
                    </div>
                    <div id="teamList">
                        <label for="teamIndividual">Team or individual sports?</label>
                        <br>
                        <select name="teamIndividual" id="teamIndividual">
                            <option selected="selected">team</option>
                            <option>individual</option>
                        </select>
                    </div>
                    <div id="indoorList">
                        <label>Indoor or Outdoor?</label>
                        <br>
                        <select name="indoorOutdoor" id="indoorOutdoor">
                            <option selected="selected">indoor</option>
                            <option>outdoor</option>
                        </select>
                    </div>
                    <br>
                    <button style="border-radius: 4px;" type="button" form="preferenceForm" id="preferenceButton"
                            value="Submit">See our recommendation
                    </button>
                </form>
                <div id='displayPreference' style="align-content: center; align-self: center; padding-left: 5%;padding-top: 5%"></div>

            </div>
        </div>
    </section>
    <!-- Skill section ends here -->
    <!-- Chinese Suburb section starts here -->
    <section id="Chinese Suburb" style="background-color: #f8f9fa">
        <div style="margin-top:3%">
            <p style="font-family: Times New Roman; font-weight: 100; font-size: 30px; text-align: center;color: black;">
                Find out where other people of Chinese ancestry live.
            <ul style="text-align: center">
                <li>No.1 Melbourne</li>
                <li>No.2 Clayton</li>
                <li>No.3 Carlton</li>
                <li>No.4 Springavle</li>
                <li>No.5 Box Hill</li>
                <li>No.6 South Wharf</li>
                <li>No.7 Notting Hill</li>
                <li>No.8 Docklands</li>
                <li>No.9 Docnaster</li>
                <li>No.10 Glen Waverley</li>
            </ul>
            </p>

            <br>
        </div>
    </section>
    <!-- Chinese Suburb section ends here -->

    <!-- Footer section starts here -->
    <footer id="Footer">
        <div class="container">
            <div class="row" style="color: #ffffff">
                <div class="col-xl-3 col-lg-6 col-sm-6 mb-4 mb-xl-0 single-footer-widget">
                    <h4>about us</h4>
                    <p>muziVic is a website dedicated to assist in building resilience in children by targeting recently
                        immigrated Chinese Mothers and their child to integrate into Australian life in Victoria. </p>
                </div>
                <div class="col-xl-3 col-lg-6 col-sm-6 mb-4 mb-xl-0 single-footer-widget">
                    <h4>Find Sports</h4>
                    <ul>
                        <li><a href="FindSports.html" data-target="Sports">Find Sports Facilities For My Kid</a></li>
                        <li><a href="FindSports.html" data-target="Skill">Recommendation for My Kid</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </footer>
    <!-- Footer section ends here -->
</section>
</body>

</html>
<script type="text/javascript">

    $(document).ready(function () {
        $("#mapButton").click(function (e) {
            $('#displayLocations').empty();
            e.preventDefault();
            $.ajax({
                url: "../php/server%20receive%20request%20on%20sports.php",
                type: "POST",
                data: $('#mapForm').serialize(),
                success: function (data) { // Pop the location data on map
                    var output = "";
                    for (var i in data) {
                        output += "<br>" + data[i].facilityName + ": " + data[i].address + "<br>";
                        output += "Sports activity: " + data[i].sports + "<br>";
                    }
                    output += "</tbody></table>";
                    $('#displayLocations').append(output);
                },
                error: function (jqxhr, status, exception) {
                    alert("No result found. Please refresh and search again.");
                    //alert(status);
                    //alert(exception);
                }
            });
            $("#mapButton").unbind();
        });
    });

    $(document).ready(function () {
        $("#preferenceButton").click(function (e) {
            $('#displayPreference').empty();
            e.preventDefault();
            $.ajax({
                url: "../php/testPreference.php",
                type: "POST",
                data: $('#preferenceForm').serialize(),
                //age: $('#age').val(),
                // gender: genderVal,
                //teamIndividual:teamVal,
                //indoorOutdoor: indoorVal
                success: function (data) {
                    //  var sports = getJson("sportsActivity", response);
                    var output = "<br>" + "Recommended Activities: " + "<br>";
                    for (var i in data) {
                        output += "<br>" + data[i].sportsActivity;
                    }
                    output += "</tbody></table>";
                    $('#displayPreference').append(output);

                },
                error: function (jqxhr, status, exception) {
                    alert(status);
                    alert(exception);
                }
            });
        });
    });

    $(document).ready(function () {
    $("chinesePopulationButtonButton").click(function(){
        $.get("../php/server%20receive%20request%20on%20Chinese%20proportion.php", function(data, status){
            var output = "<br>" + "Top 10 places that aret he most popular among Chinese: " + "<br>";
            for (var i in data) {
                output += "<br>" + data[i].suburbs;
            }
            output += "</tbody></table>";
            $('#population').append(output);

        });
    }); });



    function getJson(key, jsonObj) {
        //1、Use eval
        var eValue = eval('jsonObj.' + key);
        return eValue;
    }


    function instantializeMap() {
        mapboxgl.accessToken = "pk.eyJ1Ijoiem9lMDkyNSIsImEiOiJjazAwZWFnZmoyMnl4M2NtdjhscXEzYnV0In0.BZBB5B0chsPE5Yef4LHp-w";
// This adds the map to your page
        var map = new mapboxgl.Map({
            // container id specified in the HTML
            container: 'map',
            // style URL
            style: 'mapbox://styles/mapbox/light-v10',
            // initial position in [lon, lat] format
            center: [-37.818078, 144.96681],
            // initial zoom
            zoom: 11
        });
        map.on('load', function (e) {
            // Add the data to your map as a layer
            var gson = {
                "type": "FeatureCollection",
                "features": [
                    {
                        "type": "Feature",
                        "geometry": {
                            "type": "Point",
                            "coordinates": [
                                -37.818078,
                                144.96681
                            ]
                        },
                        "properties": {
                            "address": "Flinders St",
                            "city": "Melbourne",
                            "postalCode": "3000",
                            "state": "VIC"
                        }
                    }]
            };
            loadMap(gson);

            //buildLocationList(gson);
        });
    }

    function loadMap(gson) {
        map.on('load', function (e) {
            // Add the data to your map as a layer
            map.addLayer({
                id: 'locations',
                type: 'symbol',
                // Add a GeoJSON source containing place coordinates and information.
                source: {
                    type: 'geojson',
                    data: gson
                },
                layout: {
                    'icon-image': 'restaurant-15',
                    'icon-allow-overlap': true
                }
            });
        });
    }


</script>